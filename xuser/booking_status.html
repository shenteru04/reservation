<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Booking Status - Hotel Reservation System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .pulse-ring {
            animation: pulse-ring 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
        }
        
        @keyframes pulse-ring {
            0% { transform: scale(.33); }
            80%, 100% { opacity: 0; }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen py-8 px-4">
    <!-- Background decorations -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-white opacity-10 rounded-full animate-float"></div>
        <div class="absolute -bottom-40 -left-40 w-96 h-96 bg-white opacity-5 rounded-full animate-float" style="animation-delay: -3s;"></div>
    </div>

    <div class="max-w-lg mx-auto relative z-10">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-white bg-opacity-20 rounded-lg  mb-4 animate-float">
                <img src="../img/logo.png" alt="Hotel Logo">
            </div>
            <h1 class="text-3xl font-bold text-white mb-2">Hotel Reservation</h1>
            <p class="text-white text-opacity-80">Track your booking status instantly</p>
        </div>

        <!-- Booking Status Lookup Form -->
        <div id="statusCheckForm" class="glassmorphism rounded-2xl shadow-2xl p-8 mb-6">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-primary-500 bg-opacity-20 rounded-full mb-4">
                    <i class="fas fa-search text-primary-600 text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-800 mb-2">Check Booking Status</h2>
                <p class="text-gray-600">Enter your booking details to view current status</p>
            </div>
            
            <form id="bookingForm" class="space-y-6">
                <div class="space-y-2">
                    <label for="bookingId" class="block text-sm font-semibold text-gray-700">
                        <i class="fas fa-ticket-alt mr-2 text-primary-500"></i>
                        Booking ID <span class="text-red-500">*</span>
                    </label>
                    <div class="relative">
                        <input type="text" 
                               id="bookingId" 
                               placeholder="Enter your booking ID (e.g. 12345)"
                               class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 bg-white bg-opacity-80"
                               required>
                        <i class="fas fa-hashtag absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    <p class="text-xs text-gray-500 ml-1">You can find this in your confirmation email or receipt</p>
                </div>
                
                <div class="space-y-2">
                    <label for="emailOrPhone" class="block text-sm font-semibold text-gray-700">
                        <i class="fas fa-address-book mr-2 text-primary-500"></i>
                        Email or Phone Number <span class="text-red-500">*</span>
                    </label>
                    <div class="relative">
                        <input type="text" 
                               id="emailOrPhone" 
                               placeholder="Enter email address or phone number"
                               class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200 bg-white bg-opacity-80"
                               required>
                        <i class="fas fa-at absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400" id="contactIcon"></i>
                    </div>
                    <p class="text-xs text-gray-500 ml-1">Use the same contact info you provided during booking</p>
                </div>
                
                <button type="submit" 
                        id="submitBtn"
                        class="w-full bg-primary-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 transition-all duration-200 transform hover:scale-105 flex items-center justify-center shadow-lg">
                    <i class="fas fa-search mr-3"></i>
                    <span>Check Booking Status</span>
                </button>
            </form>

            <!-- Quick Help -->
            <div class="mt-8 p-4 bg-blue-50 rounded-xl border border-blue-200">
                <div class="flex items-start space-x-3">
                    <i class="fas fa-info-circle text-blue-500 mt-1"></i>
                    <div>
                        <h4 class="font-semibold text-blue-800 text-sm mb-1">Need Help?</h4>
                        <ul class="text-xs text-blue-700 space-y-1">
                            <li>• Check your confirmation email for the booking ID</li>
                            <li>• Use the exact email or phone number from your booking</li>
                            <li>• Contact support if you're still having trouble</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Loading State -->
        <div id="loadingState" class="hidden glassmorphism rounded-2xl shadow-2xl p-12 text-center slide-in">
            <div class="relative inline-flex items-center justify-center">
                <div class="animate-spin rounded-full h-16 w-16 border-4 border-primary-200 border-t-primary-600"></div>
                <div class="absolute inset-0 rounded-full border-4 border-primary-100 pulse-ring"></div>
            </div>
            <h3 class="text-xl font-semibold text-gray-800 mt-6 mb-2">Searching for your booking...</h3>
            <p class="text-gray-600">This will only take a moment</p>
        </div>
        
        <!-- Booking Status Display -->
        <div id="bookingStatus" class="hidden glassmorphism rounded-2xl shadow-2xl p-8 slide-in">
            <div class="text-center mb-6">
                <div id="statusIcon" class="text-5xl mb-4"></div>
                <h3 class="text-2xl font-bold text-gray-800 mb-3">Booking Found!</h3>
                <div id="statusBadge" class="inline-block px-4 py-2 rounded-full text-sm font-semibold shadow-md"></div>
            </div>
            
            <div id="bookingInfo" class="space-y-4 border-t border-gray-200 pt-6 mt-6">
                <!-- Booking details will be populated here -->
            </div>
            
            <div class="flex flex-col sm:flex-row gap-3 mt-8 pt-6 border-t border-gray-200">
                <button onclick="showLookupForm()" 
                        class="flex-1 bg-gray-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-gray-700 focus:ring-4 focus:ring-gray-200 transition-all duration-200 flex items-center justify-center">
                    <i class="fas fa-arrow-left mr-2"></i>
                    Check Another
                </button>
                <button onclick="printBooking()" 
                        class="flex-1 bg-primary-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 transition-all duration-200 flex items-center justify-center">
                    <i class="fas fa-print mr-2"></i>
                    Print Details
                </button>
            </div>
        </div>
        
        <!-- Error State -->
        <div id="errorState" class="hidden glassmorphism rounded-2xl shadow-2xl p-8 text-center slide-in">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full mb-6">
                <i class="fas fa-exclamation-triangle text-red-500 text-3xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-gray-800 mb-3">Booking Not Found</h3>
            <p id="errorMessage" class="text-gray-600 mb-6 leading-relaxed">
                We couldn't find a booking with those details. Please check your booking ID and contact information, then try again.
            </p>
            
            <!-- Troubleshooting suggestions -->
            <div class="bg-red-50 rounded-xl p-4 mb-6 text-left">
                <h4 class="font-semibold text-red-800 text-sm mb-2">
                    <i class="fas fa-lightbulb mr-2"></i>Troubleshooting Tips:
                </h4>
                <ul class="text-xs text-red-700 space-y-1 ml-4">
                    <li>• Double-check your booking ID (it's usually a number like 12345)</li>
                    <li>• Make sure you're using the same email or phone number from booking</li>
                    <li>• Remove any spaces or special characters</li>
                    <li>• Try using your phone number if email doesn't work, or vice versa</li>
                </ul>
            </div>
            
            <button onclick="showLookupForm()" 
                    class="bg-primary-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-primary-700 focus:ring-4 focus:ring-primary-200 transition-all duration-200 transform hover:scale-105">
                <i class="fas fa-redo mr-2"></i>
                Try Again
            </button>
        </div>

        <!-- Footer -->
        <div class="text-center mt-8 text-white text-opacity-60">
            <p class="text-sm">
                <i class="fas fa-shield-alt mr-1"></i>
                Your information is secure and protected
            </p>
        </div>
    </div>

    <!-- Enhanced JavaScript with better UX -->
    <script src="../js/user/booking-status.js"></script>
    </script>
</body>
</html>